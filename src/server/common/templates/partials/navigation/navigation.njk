<nav class="app-navigation" role="navigation">
  <div class="govuk-width-container">
    <div class="app-navigation__list">
      <ul class="app-navigation__primary">
        {% for item in navigation.primary %}
          <li class="app-navigation__list-item">
            <a class="app-navigation__link{% if item.isActive %} app-navigation__link--active{% endif %}"
               href="{{ item.url }}"
               data-testid="nav-{{ item.text | lower | replace(" ", "-") }}">
              {{ item.text }}
            </a>
          </li>
        {% endfor %}
        
        {% if isAuthenticated %}
          <li class="app-navigation__list-item">
            <a class="app-navigation__link{% if currentPath and currentPath.startsWith('/admin') %} app-navigation__link--active{% endif %}"
               href="/admin"
               data-testid="nav-admin">
              Admin
            </a>
          </li>
        {% endif %}
      </ul>
      
      <ul class="app-navigation__actions">
        {% if isAuthenticated %}
          <li class="app-navigation__list-item">
            <a class="app-navigation__link"
               href="/auth/logout"
               data-testid="nav-sign-out">
              Sign out
            </a>
          </li>
        {% else %}
          <li class="app-navigation__list-item">
            <a class="app-navigation__link{% if currentPath == '/auth/login' %} app-navigation__link--active{% endif %}"
               href="/auth/login"
               data-testid="nav-sign-in">
              Sign in
            </a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
